(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";!function(){var t=function(){function t(t){this.markup=t.template.markup,this.model=t.model,this.infoTmpl="suppliersInfoTmpl",this.tooltipsterTmpl="suppliersInfoTooltipster",this.ready=!1}var e=t.prototype;return e.fullUpdate=function(t,e){this.model.suppliersInfo=t.suppliersInfo,this._setSuppliersInfoAsync(e)},e.update=function(t){this._init(),this._setSuppliersInfoAsync(t)},e.updateForBasket=function(){this._setSuppliersInfoForBasketAsync()},e._setSuppliersInfoAsync=function(t){var e=this.model.suppliersInfo;e&&e[t]&&$.observable(this.model).setProperty({currentSupplier:e[t]})},e._setSuppliersInfoForBasketAsync=function(){var t=this;this._initAsync().then(function(){var e=document.querySelectorAll(".j-suppliers-info"),n=[];e.forEach(function(t){var e=t.dataset.nm;n.push(e)}),0!=n.length&&$.views.loadTemplateAsync(t.infoTmpl).then(function(i){n=n.join(","),t.$httpClient.fetchJSON("spa/product/getsellers?ids=".concat(n)).then(function(t){e.forEach(function(e){var n=e.dataset.nm,s=t[n];s&&i.link(e,s)})})})})},e._initAsync=function(){return Promise.resolve(this._init())},e._init=function(){if(!this.ready){var t=document.createElement("div");t.insertAdjacentHTML("beforeEnd",this.markup),t.querySelectorAll("script").forEach(function(t){!$.templates[t.id]&&$.templates(t.id,t.innerHTML)}),this.ready=!0}},t}();window.__spaModuleManager__.register("suppliersInfoHelper",t)}();

},{}]},{},[1]);
